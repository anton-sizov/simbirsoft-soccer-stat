(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9ad5"],{"8f0a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("date-range-picker",{attrs:{label:"Период поиска"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{attrs:{items:t.seasons,label:"Сезон",outlined:""},model:{value:t.season,callback:function(e){t.season=e},expression:"season"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-btn",{staticClass:"green darken-1 white--text filter-button",attrs:{block:"","x-large":"",outlined:""},on:{click:function(e){t.loadMatches(),t.updateQueryParams()}}},[t._v(" Применить фильтр ")])],1)],1),a("v-row",t._l(t.matches,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",md:"6"}},[a("MatchCard",{attrs:{match:t}})],1)})),1)],1)},n=[],o=(a("d3b7"),a("25f0"),a("d81d"),a("fb6a"),a("4e82"),a("4116")),r=a("51b2"),i=a("4ec3"),c={name:"CompetitionCalendar",props:["id"],components:{DateRangePicker:o["a"],MatchCard:r["a"]},data:function(){return{competitionId:0,matches:[],dates:[],season:(new Date).getFullYear().toString(),seasons:[]}},mounted:function(){this.restoreQueryParams(),this.loadInitialData()},methods:{restoreQueryParams:function(){this.competitionId=this.$route.params.id,this.season=this.$route.query.season||(new Date).getFullYear().toString(),this.$route.query.dateFrom&&this.$route.query.dateTo&&(this.dates=[this.$route.query.dateFrom,this.$route.query.dateTo])},updateQueryParams:function(){this.$router.push({path:this.$router.path,query:{dateFrom:this.dates[0],dateTo:this.dates[1],season:this.season}})},loadInitialData:function(){var t=this;Object(i["a"])(this.competitionId).then((function(e){t.seasons=e.data.seasons.map((function(t){return t.startDate.slice(0,4)}))}),(function(){t.seasons=[]})).finally((function(){t.loadMatches()}))},loadMatches:function(){var t=this;this.matches=[];var e={season:this.season,dateFrom:this.dates[0],dateTo:this.dates[1]};Object(i["b"])(this.competitionId,e).then((function(e){t.matches=e.data.matches,t.matches.sort((function(t,e){return new Date(e.utcDate)-new Date(t.utcDate)}))}),(function(){t.matches=[]}))}}},u=c,d=a("2877"),l=a("6544"),h=a.n(l),m=a("8336"),f=a("62ad"),p=a("a523"),b=a("0fd9"),v=a("b974"),w=Object(d["a"])(u,s,n,!1,null,null,null);e["default"]=w.exports;h()(w,{VBtn:m["a"],VCol:f["a"],VContainer:p["a"],VRow:b["a"],VSelect:v["a"]})}}]);
//# sourceMappingURL=chunk-2d0e9ad5.56e4e11c.js.map